<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Lucida Console";
	panose-1:2 11 6 9 4 5 4 2 2 4;}
@font-face
	{font-family:"\@MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:"\@Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
h1
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:21.6pt;
	text-indent:-21.6pt;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Arial","sans-serif";
	color:black;}
h2
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:28.8pt;
	text-indent:-28.8pt;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Arial","sans-serif";
	color:black;
	font-style:italic;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:14.15pt;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	font-size:10.0pt;
	font-family:"Times New Roman","serif";
	color:black;
	font-style:italic;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
a:link, span.MsoHyperlink
	{color:navy;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
span.NumberingSymbols
	{mso-style-name:"Numbering Symbols";}
p.Heading, li.Heading, div.Heading
	{mso-style-name:Heading;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Arial","sans-serif";
	color:black;}
p.Illustration, li.Illustration, div.Illustration
	{mso-style-name:Illustration;
	margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	font-size:10.0pt;
	font-family:"Times New Roman","serif";
	color:black;
	font-style:italic;}
p.Framecontents, li.Framecontents, div.Framecontents
	{mso-style-name:"Frame contents";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
p.Text, li.Text, div.Text
	{mso-style-name:Text;
	margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	font-size:10.0pt;
	font-family:"Times New Roman","serif";
	color:black;
	font-style:italic;}
p.ContentsHeading, li.ContentsHeading, div.ContentsHeading
	{mso-style-name:"Contents Heading";
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Arial","sans-serif";
	color:black;
	font-weight:bold;}
p.Index, li.Index, div.Index
	{mso-style-name:Index;
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
p.TableContents, li.TableContents, div.TableContents
	{mso-style-name:"Table Contents";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	color:black;}
p.fixed, li.fixed, div.fixed
	{mso-style-name:fixed;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	font-size:9.0pt;
	font-family:"Lucida Console";
	color:black;}
 /* Page Definitions */
 @page Section1
	{size:595.25pt 841.85pt;
	margin:2.0cm 2.0cm 84.65pt 2.0cm;}
div.Section1
	{page:Section1;}
@page Section2
	{size:595.25pt 841.85pt;
	margin:2.0cm 2.0cm 84.65pt 2.0cm;}
div.Section2
	{page:Section2;}
@page Section3
	{size:595.25pt 841.85pt;
	margin:2.0cm 2.0cm 84.65pt 2.0cm;}
div.Section3
	{page:Section3;}
@page Section4
	{size:595.25pt 841.85pt;
	margin:2.0cm 2.0cm 84.65pt 2.0cm;}
div.Section4
	{page:Section4;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body bgcolor=white lang=EN-US link=navy vlink=purple style='line-break:strict'>

<div class=Section1>

<h1 align=center style='margin-left:0cm;text-align:center;text-indent:0cm'><span
style='font-size:22.0pt'>&nbsp;</span></h1>

<p class=Heading align=center style='text-align:center'><span style='font-size:
26.0pt'>DERI Pipes</span></p>

<p class=MsoBodyText align=center style='text-align:center'><span
style='font-size:22.0pt'>&nbsp;</span></p>

<p class=MsoBodyText align=center style='text-align:center'>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=103 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=428 height=159 src="pipes-guide_files/image001.jpg"></td>
 </tr>
</table>

<br clear=ALL>
</p>


<p class=MsoBodyText align=center style='text-align:center'><span
style='font-size:22.0pt'>User Guide (v 0.7)</span></p>

<p class=MsoBodyText align=center style='text-align:center'><span
style='font-size:22.0pt'>&nbsp;</span></p>

<p class=MsoBodyText style='page-break-before:always'>This brief guide intends
to help developers install and begin using and developing with DERI Pipes. To
find out more about the project see: <a href="http://pipes.deri.org/">http://pipes.deri.org</a>. 
Try out DERI Pipes at <a href="http://pipes.deri.org:8080/pipes">http://pipes.deri.org:8080/pipes</a></p>

<p class=MsoBodyText>Please note that this is a functional, but early release
of DERI Pipes. The release provides an opportunity for the community and
industry to become familiar with Pipes and to contribute to the future
direction of the project.</p>

<p class=MsoBodyText>Documentation about the various pipe <em>Operators</em> is skeletal, but can be found <a href="operators.html">here</a>.</p>

<p class=MsoBodyText>&nbsp;</p>

</div>

<span style='font-size:12.0pt;font-family:"Times New Roman","serif";color:black'><br
clear=all style='page-break-before:auto'>
</span>

<div class=Section2>

<p class=ContentsHeading>Table of Contents</p>

</div>

<b><span style='font-size:16.0pt;font-family:"Arial","sans-serif";color:black'><br
clear=all style='page-break-before:auto'>
</span></b>

<div class=Section3>

<p class=MsoToc1>1<a href="#Installation">Installation</a></p>
<p class=MsoToc2>1.1<a href="#Installation_Pre-requisites">Pre-requisites</a></p>
<p class=MsoToc2>1.2<a href="#Installation_Installation">Installation</a></p>

<p class=MsoToc1>2<a href="#Using">Using Pipes Web Application</a></p>
<p class=MsoToc2>2.1<a href="#Using_Accessing">Accessing Pipes</a></p>
<p class=MsoToc2>2.2<a href="#Using_Familiarising">Becoming Familiar With Pipes</a></p>
<p class=MsoToc2>2.3<a href="#Using_Connecting">Connecting Pipe Operators</a></p>
<p class=MsoToc2>2.4<a href="#Using_Logs">Viewing the Log Files</a></p>

<p class=MsoToc1>3<a href="#CommandLine">Using Pipes on the command line</a></p>

<p class=MsoToc1>4<a href="#Programming">Using Pipes Programatically</a></p>
<p class=MsoToc2>4.1<a href="#StoredPipes">Executing Stored Pipes</a></p>
<p class=MsoToc2>4.2<a href="#PipeXML">Pipe XML Definitions</a></p>
<p class=MsoToc2>4.3<a href="#PipeStore">The Pipe Store</a></p>

<p class=MsoToc1>5<a href="#Tutorial">Tutorial – Developing a new Pipe Operator</a></p>
<p class=MsoToc2>5.1<a href="#Tutorial_Overview">Overview</a></p>
<p class=MsoToc2>5.2<a href="#Tutorial_ImplementingOperator">Implementing the Operator interface</a></p>
<p class=MsoToc2>5.3<a href="#Tutorial_ExtendingPipeNode">Extending the PipeNode class</a></p>

<p class=MsoToc1>6<a href="#PipeOperatorDocumentation">Pipe Operator</a></p>
<p class=MsoToc2>6.1<a href="#GeneralPipeSyntax">General Pipe syntax</a></p>
<p class=MsoToc2>6.2<a href="#FETCH">FETCH Operator</a></p>
<p class=MsoToc2>6.3<a href="#CONSTRUCT">CONSTRUCT Operator</a></p>
<p class=MsoToc2>6.4<a href="#SELECT">SELECT Operator</a></p>
<p class=MsoToc2>6.5<a href="#RDFS">RDFS Operator</a></p>
<p class=MsoToc2>6.6<a href="#FOR">FOR Operator</a></p>
<p class=MsoToc2>6.7<a href="#PatchingOperators">Patching Operators</a></p>
<p class=MsoToc2>6.8<a href="#SMOOSHER">SMOOSHER Operator</a></p>
<p class=MsoToc2>6.9<a href="#PipeCall">Pipe-Call Operator</a></p>
<p class=MsoToc2>6.10<a href="#DTD">DTD</a></p>

<p class=MsoToc1>7<a href="#Conclusion">Conclusion</a></p>

<p class=MsoToc1>8<a href="#FAQ">Frequently Asked Questions</a></p>

<p class=MsoToc1>9<a href="#References">References</a></p>

</div>

<span style='font-size:12.0pt;font-family:"Times New Roman","serif";color:black'><br
clear=all style='page-break-before:auto'>
</span>

<div class=Section4>

<p class=MsoBodyText>&nbsp;</p>

<h1>1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a name="Installation"></a>Installation</h1>

<p class=MsoBodyText>This section describes how to download and install the
DERI Pipes application</p>

<h2>1.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span><a name="Installation_Pre-requisites"></a>Pre-requisites</h2>

<p class=MsoBodyText>Before installing DERI Pipes you will need:</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Java
1.6 or newer</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A
servlet container, such as Tomcat</p>

<h2>1.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span><a name="Installation_Installation"></a>Installation</h2>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Start
tomcat</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Download
the current release of DERI Pipes (pipes-x.x.x.war)  from sourceforge <a
href="http://www.sourceforge.net/projects/swp">http://www.sourceforge.net/projects/swp</a></p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Rename
the war file to pipes.war and copy it to the webapps folder. Tomcat will unpack
the war file to create the pipes web application.</p>

<p class=MsoBodyText><img width=559 height=365
src="pipes-guide_files/image002.gif"
alt="Text Box:  Illustration 1: Copying pipes.war to the Tomcat webapps folder"><br
clear=ALL>
</p>

<h1>2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a name="Using"></a>Using
Pipes Web Application</h1>

<h2>2.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span><a name="Using_Accessing"></a>Accessing
Pipes</h2>

<p class=MsoBodyText>Depending on the configuration of your servlet engine, the
pipes web application can be accessed at http://server:port/pipes/ . For a
typical local installation of pipes in Tomcat, try <a
href="http://localhost:8080/pipes/">http://localhost:8080/pipes/</a></p>

<h2>2.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span><a name="Using_Familiarising"></a>Becoming
Familiar With Pipes</h2>

<p class=MsoBodyText>The following picture of the Pipes web interface may help
the user become familiar with the primary operations of the Pipes user
interface.</p>

<p class=MsoBodyText><img width=647 height=475
src="pipes-guide_files/image003.gif"
alt="Text Box:  Illustration 2: DERI Pipes User Interface"><br clear=ALL>
</p>

<p class=MsoBodyText>A brief description of the marked items follows:</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Published
Pipes tab</b>. Select this tab to run, edit or copy an existing pipe. A small
number of example pipes are provided with the application.</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Operators
tab</b>. Select this tab to view the available operators. Add a new operator
onto your pipe application by dragging the chosen operator onto the design
area.</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>File
menu item</b>. Use this menu to start a new pipe or to save your work.</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Debug
menu item</b>. Use this menu to execute your pipe in debug mode. The output of
the pipe execution is displayed at the lower part of the screen (see 14 and
15).</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Pipe
ID text field</b>. This field displays the name of the pipe currently in the
editor. Use this field to assign a name to a new pipe before saving.</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Pipe
details glass</b>. Select this icon to view and edit the pipe <s>name</s>
description and password.</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Designer
tab</b>. Select this tab to modify the pipe in design mode.</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Source
Code tab</b>. Select this tab to view the pipe xml source code to be executed.</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>9.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Saved
Pipe execution link</b>. Click on the link to view the output of the pipe in
html, RDF/XML or raw format.</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>10.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span><b>Actions context menu</b>.
Choose an item from this menu to copy, edit, delete or debug a saved pipe.</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>11.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span><b>A Pipe Operator Node</b>.
Enter the details required for the chosen operation.</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>12.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span><b>Pipe Operator Play Button</b>.
Click this button to view the output of the pipe as far as this operator. The
output is displayed in the debug window (see 14 and 15).</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>13.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span><b>Delete Operator button</b>.
Click on this button to delete an operator.</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>14.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span><b>Debug Text View</b>. This
tab displays the output of a debug operation in the raw form.</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>15.<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span><b>Debug Table View</b>.
This tab displays the output of the debug operation in tabular form.</p>

<h2>2.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span><a name="Using_Connecting"></a>Connecting
Pipe Operators</h2>

<p class=MsoBodyText>Pipe Operators are connected by dragging the output port
(at bottom center) of one operator to the input port (top center) of another.
The pipe is complete when all required nodes have been added to the model, each
connected to at least one other node. Each pipe model has one Output node which
must be connected to in order for the model to be complete. The simplest pipe
will always have at least two nodes.</p>

<p class=MsoBodyText><img width=421 height=285
src="pipes-guide_files/image004.gif"
alt="Text Box:  Illustration 3: Simple Pipe with two Nodes"><br clear=ALL>
</p>

<p class=MsoBodyText>Connections between Pipe Node Operators are made by
dragging the output node of the operator to the input node of the next operator
in the pipe. Note that not all pipe nodes are compatible. Some pipes expect
input format of a particular type such as RDF, and will not accept other
formats. If the connections between two pipes refuse to 'stick', this is likely
because their formats are incompatible.</p>

<h2>2.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span><a name="Using_Logs"></a>Viewing
the Log Files</h2>

<p class=MsoBodyText>Pipes logs messages using slf4j logging framework. Look
for pipes log messages in or around your other tomcat log files. Improved
instructions on configuration of logging is intended for the next release.</p>

<h1>3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a name="CommandLine"></a>Using
Pipes on the command line</h1>

<p class=MsoBodyText>The DERI Pipes Engine allows pipes to be executed on the
command line or embedded within an application. </p>

<p class=MsoBodyText>To use pipes on the command-line, download and unpack the
pipes-engine package.</p>

<p class=MsoBodyText>Note: Pipes can be used to readline input from the STDIN
input stream, by including a &lt;stdin/&gt; operator as a source in your pipe.</p>

<p class=MsoBodyText>To invoke a pipe expecting name and place parameters,
invoke as follows:</p>

<p class=fixed style='margin-left:2.0cm'><b>bin/pipes path/to/pipe/syntax/file
name=Giovanni place=Galway</b></p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>The remainder of this section shows by example how to
execute a pipe on the command line. Here follows an example pipe reading from
stdin. This requires 2 files, input.txt and pipe.txt which are shown below:</p>

<p class=MsoBodyText>Command line is:</p>

<p class=fixed style='margin-left:2.0cm'><b>bin/pipes pipe.txt &lt;input.txt</b></p>

<p class=MsoBodyText>Output is:</p>

<p class=fixed style='margin-left:2.0cm'><b>&lt;rdf:RDF
xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns#' </b></p>

<p class=fixed style='margin-left:2.0cm'><b>          xmlns:foaf='http://xmlns.com/foaf/0.1/'&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>  &lt;foaf:person
rdf:about='http://example.com/Robert_Fuller'&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>    &lt;foaf:name&gt;Robert
Fuller&lt;/foaf:name&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>    &lt;foaf:firstName&gt;Robert&lt;/foaf:firstName&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>    &lt;foaf:surname&gt;Fuller&lt;/foaf:surname&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>  &lt;/foaf:person&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>  &lt;foaf:person
rdf:about='http://example.com/Giovanni_Tummarello'&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>    &lt;foaf:name&gt;Giovanni
Tummarello&lt;/foaf:name&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>    &lt;foaf:firstName&gt;Giovanni&lt;/foaf:firstName&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>    &lt;foaf:surname&gt;Tummarello&lt;/foaf:surname&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>  &lt;/foaf:person&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>  &lt;foaf:person
rdf:about='http://example.com/Dahn_Le_Pouch'&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>    &lt;foaf:name&gt;Dahn Le
Pouch&lt;/foaf:name&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>    &lt;foaf:firstName&gt;Dahn&lt;/foaf:firstName&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>    &lt;foaf:surname&gt;Le
Pouch&lt;/foaf:surname&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>  &lt;/foaf:person&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>&lt;/rdf:RDF&gt;</b></p>

<p class=MsoBodyText>============input.txt========================</p>

<p class=fixed style='margin-left:2.0cm'><b>Robert Fuller</b></p>

<p class=fixed style='margin-left:2.0cm'><b>Giovanni Tummarello</b></p>

<p class=fixed style='margin-left:2.0cm'><b>Dahn Le Pouch</b></p>

<p class=MsoBodyText>=============================================</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>=============pipe.txt========================</p>

<p class=fixed style='margin-left:2.0cm'><b>&lt;pipe&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>  &lt;code&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>    &lt;scripting&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>      &lt;language&gt;groovy&lt;/language&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>      &lt;script&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>import groovy.xml.MarkupBuilder</b></p>

<p class=fixed style='margin-left:2.0cm'><b> def writer = new StringWriter()</b></p>

<p class=fixed style='margin-left:2.0cm'><b> def xml = new
MarkupBuilder(writer)</b></p>

<p class=fixed style='margin-left:2.0cm'><b> xml.'rdf:RDF'('xmlns:rdf':'http://www.w3.org/1999/02/22-rdf-syntax-ns#','xmlns:foaf':'http://xmlns.com/foaf/0.1/'){</b></p>

<p class=fixed style='margin-left:2.0cm'><b>   input.inputStream.eachLine{ </b></p>

<p class=fixed style='margin-left:2.0cm'><b>    name -&gt;
parts=name.split(/\s/,2);</b></p>

<p class=fixed style='margin-left:2.0cm'><b>     xml.'foaf:person'('rdf:about':&quot;http://example.com/${name.replaceAll('
','_')}&quot;){</b></p>

<p class=fixed style='margin-left:2.0cm'><b>      'foaf:name'(name)</b></p>

<p class=fixed style='margin-left:2.0cm'><b>      'foaf:firstName'(parts[0])</b></p>

<p class=fixed style='margin-left:2.0cm'><b>      'foaf:surname'(parts[1])</b></p>

<p class=fixed style='margin-left:2.0cm'><b>     }</b></p>

<p class=fixed style='margin-left:2.0cm'><b>   }</b></p>

<p class=fixed style='margin-left:2.0cm'><b> }</b></p>

<p class=fixed style='margin-left:2.0cm'><b>writer.toString();</b></p>

<p class=fixed style='margin-left:2.0cm'><b>      &lt;/script&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>      &lt;source&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>        &lt;stdin/&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>      &lt;/source&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>    &lt;/scripting&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>  &lt;/code&gt;</b></p>

<p class=fixed style='margin-left:2.0cm'><b>&lt;/pipe&gt;</b></p>

<p class=MsoBodyText>=============================================</p>

<h1>4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a name="Programming"></a>Using
Pipes Programatically</h1>

<h2>4.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span><a name="StoredPipes"></a>Executing
Stored Pipes</h2>

<p class=MsoBodyText>Pipes provides a powerful and simple API to allow pipe
development and execution from within the  java applications. A good starting
point for developers is to retrieve the pipes application from CVS on
sourceforge, and to begin by studying some of the unit tests available.</p>

<p class=MsoBodyText>In code a pipe can be created programatically and
executed. Alternatively pipes can be retrieved from the pipe store for execution;
this usefully allows pipes to be developed in the graphical environment but
used other in non-web applications.</p>

<p class=MsoBodyText><img width=525 height=252
src="pipes-guide_files/image005.gif"
alt="Text Box: Engine engine = new Engine();&#13;&#10;engine.setPipeStore(new FilePipeStore(&quot;test/data/pipe-library&quot;));&#13;&#10;PipeConfig config = engine.getPipeStore().getPipe(&quot;tblotw&quot;);&#13;&#10;Pipe pipe = (Pipe) engine.parse(config.getSyntax());&#13;&#10;ExecBuffer result = pipe.execute(engine.newContext());&#13;&#10;ByteArrayOutputStream bout = new ByteArrayOutputStream();&#13;&#10;result.stream(bout);&#13;&#10;System.out.println(&quot;output: &quot;+bout.toString(&quot;UTF-8&quot;));&#13;&#10;Text 1: Example of using Pipes Programatically to execute a saved pipe&#13;&#10;"><br
clear=ALL>
</p>

<p class=MsoBodyText>Note that creating a Pipe Engine is a relatively expensive
operation, however engines may be safely shared among threads of execution.
Where practical an engine should be shared within an application. A default
engine is avaliable by calling Engine.getDefaultEngine();</p>

<h2>4.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span><a name="PipeXML"></a>Pipe
XML Definitions</h2>

<p class=MsoBodyText>While a detailed explanation of the Pipe XML format is
left for a later date, it is worth noting that there are two separate xml
formats associated with the pipes. The first is a 'config' format which is used
for rendering the pipe node operators in the GUI. The 'syntax' xml format is
contains the definition of the pipes for the execution environment. While both
formats are saved in the Pipe Store, only the syntax format is required in
order to recreate a pipe for execution. In some cases where the graphical
environment is not required, it may be desireable to save only the pipe syntax
in order to minimise overheads involved in parsing the pipes. For efficiency
pipes are parsed from XML into java objects using Xstream.</p>

<h2>4.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span><a name="PipeStore"></a>The
Pipe Store</h2>

<p class=MsoBodyText>By default pipe XML definitions are stored one-per-file in
a directory on the file system. In the case of many stored pipes these should
be stored throughout a logical tree of sub-folders. A database implementation
of the Pipe Store is also provided. Those wishing for an alternative
implementation of the Pipe Store should impelment the
org.deri.pipes.store.PipeStore interface. The PipeStore can be set by calling
engine.setPipeStore(pipeStore)</p>

<h1>5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a name="Tutorial"></a>Tutorial
– Developing a new Pipe Operator</h1>

<p class=MsoBodyText>This section is intended to encourage developers to extend
the functionality of DERI Pipes by creating new pipe Operators.</p>

<h2>5.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span><a name="Tutorial_Overview"></a>Overview</h2>

<p class=MsoBodyText>Conceptually there are two things which need to be done in
order to create a new operator and make it available on the Pipes GUI. Firstly,
and most simply, provide an implementation of the org.deri.pipes.core.Operator
interface. Secondly, implement a class extending the abstract class
org.deri.pipes.ui.PipeNode which represents the new Operator on the GUI and is
responsible for loading to/from xml.</p>

<p class=MsoBodyText>This section walks through the steps required to implement
a simple HTTP GET Operator and add it to the GUI.</p>

<h2>5.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span><a name="Tutorial_ImplementingOperator"></a>Implementing
the Operator interface</h2>

<p class=MsoBodyText>The operator interface is very simple consisting of a
single method:</p>

<p class=MsoBodyText><img width=596 height=173
src="pipes-guide_files/image006.gif"
alt="Text Box: public interface Operator{&#13;&#10;	/**&#13;&#10;	 * Execute an operation and return the output.&#13;&#10;	 * @param context The current pipe execution context.&#13;&#10;	 * @return A buffer containing the results of the execution.&#13;&#10;	 * @throws Exception&#13;&#10;	 */&#13;&#10;     public ExecBuffer execute(Context context) throws Exception;&#13;&#10;}&#13;&#10;"><br
clear=ALL>
Implementors should make note of the following guidelines:</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Any
variables not required as part of the pipe syntax should be declared transient
in order to avoid serialization into xml.</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>To
support multithreaded execution Operator should not maintain state information
about the execution.</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>In
order to maximise reusability, define Operators to specialise at a single
operation.</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>Note regarding the ExecBuffer – There are currently 5
implementations of ExecBuffer which are:</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>SesameMemoryBuffer
– Holds RDF into an in-memory model.</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>SesameTupleBuffer
– Holds sqarql query results in in-memory.</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>StreamBuffer
– Holds a reference to a URL which can be streamed OR holds string content in
memory.</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>BinaryContentBuffer
– Holds binary or text data in memory.</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MultiExecBuffer
– A collection of  two or more ExecBuffers possibly executed in parallel.</p>

<p class=MsoBodyText>It is important to choose the ExecBuffer implementation
which fits most closely with the type of result produced by your operator. Our
example HTTP GET Operator produces an BinaryContentBuffer because the format of
the retrieved data is not known beforehand. Subsequent operators can be applied
to the BinaryContentBuffer to transform the data from raw format into the
desired output format.</p>

<p class=MsoBodyText>Code for the HTTP GET Operator follows. A couple of items
worthy of note are:</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>XstreamAlias
annotation declares the xml element name for this class. (NB: Not strictly
required since aliases are mapped in operatormapping.xml file)</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
logger is defined as transient.</p>

<p class=MsoBodyText style='margin-left:36.0pt;text-indent:-18.0pt'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>No
state information is saved.</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=13 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=621 height=733 src="pipes-guide_files/image007.gif"
  alt="Text Box: /**&#13;&#10; * Performs a Http Get into a binary content buffer using the&#13;&#10; * HttpClient provided by the Context.&#13;&#10; * @author robful&#13;&#10; *&#13;&#10; */&#13;&#10;@XStreamAlias(&quot;http-get&quot;)&#13;&#10;public class HttpGetBox implements Operator{&#13;&#10;	transient Logger logger = LoggerFactory.getLogger(HttpGetBox.class);&#13;&#10;	String location;&#13;&#10;	public String getLocation() {&#13;&#10;		return location;&#13;&#10;	}&#13;&#10;	public void setLocation(String location) {&#13;&#10;		this.location = location;&#13;&#10;	}&#13;&#10;	/* Perform a HTTP GET operation and return the&#13;&#10;	 * result in a BinaryContentBuffer.&#13;&#10;	 */&#13;&#10;	@Override&#13;&#10;	public ExecBuffer execute(Context context) throws Exception {&#13;&#10;		HttpClient client = context.getHttpClient();&#13;&#10;		GetMethod getMethod = new GetMethod(location);&#13;&#10;		int response = client.executeMethod(getMethod);&#13;&#10;		if(response != 200){&#13;&#10;			logger.warn(&quot;The http get request to [&quot;+location+&quot;] response code was  [&quot;+response+&quot;]&quot;);&#13;&#10;		}&#13;&#10;		&#13;&#10;		BinaryContentBuffer buffer = new BinaryContentBuffer();&#13;&#10;		buffer.setContent(getMethod.getResponseBody());&#13;&#10;		buffer.setCharacterEncoding(getMethod.getRequestCharSet());&#13;&#10;		Header contentType = getMethod.getResponseHeader(&quot;Content-Type&quot;);&#13;&#10;		if(contentType != null){&#13;&#10;			buffer.setContentType(contentType.getValue());&#13;&#10;		}&#13;&#10;		return buffer;&#13;&#10;	}&#13;&#10;	&#13;&#10;&#13;&#10;}&#13;&#10;&#13;&#10;Text 2: Implementation of Operator Interface&#13;&#10;"></td>
 </tr>
</table>

<br clear=ALL>
After implementing the class, an entry is created in the operatormapping.xml
file:</p>

<p class=MsoBodyText><img width=506 height=146
src="pipes-guide_files/image008.gif"
alt="Text Box:    &lt;entry&gt;&#13;&#10;    &lt;string&gt;http-get&lt;/string&gt;&#13;&#10;    &lt;java-class&gt;org.deri.pipes.rdf.HttpGetBox&lt;/java-class&gt;&#13;&#10;  &lt;/entry&gt;&#13;&#10;Text 3: Alias entry in operatormapping.xml&#13;&#10;"><br
clear=ALL>
</p>

<p class=MsoNormal>Once implemented the serialization for the class can be
verified in a unit test.</p>

<h2>5.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span><img
width=541 height=165 src="pipes-guide_files/image009.gif"
alt="Text Box:   public void test() throws Exception{ &#13;&#10;     HttpGetBox get = new HttpGetBox();&#13;&#10;     get.setLocation(“http://www.deri.org/”);&#13;&#10;     String xml = engine.serialize(get);&#13;&#10;     HttpGetBox get2 = (HttpGetBox)engine.parse(xml);&#13;&#10;     assertEquals(“wrong location”, “http://www.deri.org”, get2.getLocation());&#13;&#10; }&#13;&#10;"><br
clear=ALL><a name="Tutorial_ExtendingPipeNode"></a>
Extending the PipeNode class</h2>

<p class=MsoBodyText>Unfortunatley this task remains a bit daunting and
requires attention of the core developers in order to ease the burden required
to provide new operators, nevertheless we demonstrate a simple gui component
extending  the PipeNode class for our HTTP GET operator. The finished GUI
Element has the following appearance, here shown connected to Output. The node
is quite simple, collecting only the URL location.</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=41 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=635 height=722 src="pipes-guide_files/image010.gif"></td>
 </tr>
</table>

<br clear=ALL>
Full source code implementation of the class follows. Items of note include the
ANYOUT port type which allows this node to be connected to classes expecting
specific input types. Execution errors will occur when the connected operator's
expectations are not met, for example if an Operator expecting rdf receives an
image.</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoNormal>The remaining two methods respectively serialise and parse
the xml format for this operator:</p>

<p class=MsoNormal><img width=584 height=608
src="pipes-guide_files/image011.gif"
alt="Text Box: 	@Override&#13;&#10;	public Node getSrcCode(Document doc,boolean config){&#13;&#10;		if(getWorkspace()!=null){&#13;&#10;			Element srcCode = doc.createElement(tagName);&#13;&#10;			if(config){&#13;&#10;				super.setPosition(srcCode);&#13;&#10;			}&#13;&#10;			&#13;&#10;			Element locElm =doc.createElement(&quot;location&quot;);&#13;&#10;			locElm.appendChild(getConnectedCode(doc, urlTextbox, urlPort, config));&#13;&#10;			srcCode.appendChild(locElm);&#13;&#10;			return srcCode;&#13;&#10;		}&#13;&#10;		return null;&#13;&#10;	}&#13;&#10;	/**&#13;&#10;	 * Creates a new HttpGetNode and adds it into the configuration.&#13;&#10;	 * @param elm The element defining this http-get&#13;&#10;	 * @param wsp The PipeEditor workspace&#13;&#10;	 * @return&#13;&#10;	 */&#13;&#10;	public static PipeNode loadConfig(Element elm,PipeEditor wsp){&#13;&#10;		HttpGetNode node= new HttpGetNode(Integer.parseInt(elm.getAttribute(&quot;x&quot;)),Integer.parseInt(elm.getAttribute(&quot;y&quot;)));&#13;&#10;		wsp.addFigure(node);&#13;&#10;		Element locElm=XMLUtil.getFirstSubElementByName(elm, &quot;location&quot;);&#13;&#10;		node.loadConnectedConfig(locElm, node.urlPort, node.urlTextbox);&#13;&#10;		return node;&#13;&#10;	}&#13;&#10;&#13;&#10;}&#13;&#10;"><br
clear=ALL>
</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Finally, once the HttpGetNode has been implemented, it needs
to be referenced in the following two files:</p>

<ol style='margin-top:0cm' start=1 type=1>
 <li class=MsoNormal>
     <table cellpadding=0 cellspacing=0>
      <tr>
       <td width=31 height=0></td>
      </tr>
      <tr>
       <td></td>
       <td><img width=554 height=199 src="pipes-guide_files/image012.gif"
       alt="Text Box: case &quot;htmlfetch&quot;:&#13;&#10;    return new  HTMLFetchNode(x,y);&#13;&#10;case &quot;http-get&quot;:&#13;&#10;    return new HttpGetNode(x,y);&#13;&#10;case &quot;parameter&quot;:&#13;&#10;&#13;&#10;...&#13;&#10;case &quot;htmlfetch&quot;:    &#13;&#10;   return HTMLFetchNode.loadConfig(element,pipeEditor);&#13;&#10; case &quot;http-get&quot;:&#13;&#10;   return HttpGetNode.loadConfig(element,pipeEditor);&#13;&#10; case &quot;parameter&quot;:  &#13;&#10;"></td>
      </tr>
     </table>
     <br clear=ALL>
     PipeNodeFactory.groovy (2 places) to produce the correct PipeNode when the
     http-get element is encountered:<br>
     <br>
     <br>
 </li>
 <li class=MsoNormal>index.zul one place to have the HTTP GET name appear on
     the Operators tab.</li>
 <li class="MsoNormal">Documentation for the should be added to <a href="operators.html">operators.html</a>, 
 or override the getDocumentationLink() method in your implementation of PipeNode to link to the
 correct documentation location.</li>
</ol>

<p class=MsoNormal><img width=519 height=128
src="pipes-guide_files/image013.gif"
alt="Text Box:  &lt;treeitem&gt;&#13;&#10;    &lt;treerow&gt;&#13;&#10;      &lt;treecell id=&quot;http-get&quot;  draggable=&quot;true&quot;  &#13;&#10;             label=&quot;HTTP GET&quot; /&gt;&#13;&#10;      &lt;/treerow&gt;	&#13;&#10;&lt;/treeitem&gt;&#13;&#10;"><br
clear=ALL>
</p>

<p class=MsoNormal>Once these changes have been made the new PipeNode is
available in the Pipes web interface.</p>

<h1>6<span style='font: 7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><a name="PipeOperatorDocumentation"></a>Pipe Operator</h1>
<p>Each Pipe operator has one or more inputs&nbsp; and only one
output. The inputs can be various things, e.g. URIs, text or output from
another operator. The output of an operator can be:</p>
<ul>
	<li>a single RDF graph</li>
	<li>an RDF datasets (consisting of a default graph an zero or more
	named graphs)</li>
	<li>an SPARQL result set.</li>
</ul>
<h2><font size="3"><a name="GeneralPipeSyntax"></a>General Pipe syntax</font></h2>
<p><font color="red">This section of the documentation requires updating.</font></p>
<p><strong><u>Syntax template:</u></strong></p>
<p>&lt;pipe&gt;<br>
&lt;parameters&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;parameter&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;id&gt;parameter's name (must be
unique)&lt;/id&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;label&gt;description of the
paramenter&lt;/label&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;/parameter&gt;<br>
....<br>
&lt;/parameters&gt;</p>
<p>&lt;code&gt;<br>
&lt;blockname&gt;<br>
<em>&lt;parameter&gt;<br>
&lt;nestedblockname&gt; ...&lt;/nestedblockname&gt;<br>
&lt;/parameter&gt;<br>
...<br>
&lt;/blockname&gt;</em><br>
&lt;/code&gt;<br>
&lt;/pipe&gt;</p>
<p>Example (See also
http://pipes.deri.org:8080/pipes/Pipes/?id=custompipe,
http://pipes.deri.org:8080/pipes/Pipes/?id=mixderifoaf ? )</p>
<p>&lt;pipe&gt;</p>
<p>&nbsp; &lt;parameters&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;parameter&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;id&gt;id1&lt;/id&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;label&gt;First Deri team
member&lt;/label&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;/parameter&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;parameter&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;id&gt;id2&lt;/id&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;label&gt;Second Deri team
member&lt;/label&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;/parameter&gt;<br>
&nbsp; &lt;/parameters&gt;</p>
<p>&nbsp; &lt;code&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;simplemix&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;source&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;fetch&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;location&gt;http://www.deri.ie/fileadmin/scripts/foaf.php?id=$id1$&lt;/location&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/fetch&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/source&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;source&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;fetch&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;location&gt;http://www.deri.ie/fileadmin/scripts/foaf.php?id=$id2$&lt;/location&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/fetch&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/source&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;/simplemix&gt;<br>
&nbsp; &lt;/code&gt;<br>
&lt;/pipe&gt;</p>
<h2><font size="3"><a name="FETCH"></a>FETCH</font></h2>
<p><font color="red">This section of the documentation requires updating</font></p>
<p><br>
The Fetch operator is used to fetch data from an URI in RDF/XML or
SPARQL-RESULT/XML . There is an optional attribute "accept" which
determines the HTTP accept header for the request. Allowed value are
:"rdfxml" and "sparqlxml".</p>
<p>Syntax template:</p>
<p>&lt;fetch&nbsp; accept="rdfxml/sparqlxml"&gt;<br>
&nbsp;&nbsp; &lt;location&gt;<br>
&nbsp;&nbsp; URL OF THE WEB FILE TO FETCH<br>
&nbsp;&nbsp; &lt;/location&gt;<br>
&lt;/fetch&gt;</p>
<p>or</p>
<p>&lt;fetch&nbsp; accept="rdfxml/sparqlxml"&gt;<br>
&nbsp;&nbsp; &lt;sparqlendpoint&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;defaultgraph&gt;URI of the default
graph&lt;/defaultgraph&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;endpoint&gt;URL to the Sparql
endpoint&lt;/endpoint&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;query&gt;the remote SPARQL
query&lt;/query&gt;<br>
&nbsp;&nbsp; &lt;/sparqlendpoint&gt;<br>
&lt;/fetch&gt;</p>
<p>Example:</p>
<p>&nbsp;&lt;fetch&nbsp; accept="rdfxml"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;
&lt;location&gt;http://www.w3.org/People/Berners-Lee/card?&lt;/location&gt;<br>
&nbsp;&lt;/fetch&gt;</p>
<h2><font size="3"><a name="MIX"></a>MIX</font></h2>
<p><font color="red">This section of the documentation requires updating</font></p>
<p>The MIX operator is used to merge triples from multiple RDF
sources. Each RDF Source can be either a constant (directly input as
RDF/XML) or another Pipe operator which can output RDF/XML data. There
is an optional attribute "uri". If it is speficfied, then the sourcedata
will be placed into an named graph with attribute's value as graph name.</p>
<p>Note: Constant RDF/XML text has to be wrapped into a CDATA
section</p>
<p><strong><u>Syntax template:</u></strong></p>
<p>&lt;simplemix&gt;<br>
&lt;source&gt;Enter one or more sources&lt;/source&gt;<br>
....<br>
&lt;/simplemix&gt;</p>
<p>Example (see <a
	href="http://pipes.deri.org:8080/pipes/Pipes/?id=simplemix">http://pipes.deri.org:8080/pipes/Pipes/?id=simplemix</a>
)</p>
<p>&nbsp;&nbsp; &lt;simplemix&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;source&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;fetch&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;
&lt;location&gt;http://www.w3.org/People/Berners-Lee/card?&lt;/location&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;/fetch&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;/source&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;source&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;![CDATA[<br>
&nbsp;&nbsp;&nbsp; &lt;rdf:RDF<br>
&nbsp;&nbsp;&nbsp;xmlns:j.0="http://xmlns.com/foaf/0.1/"&gt;http://xmlns.com/foaf/0.1/"<br>
&nbsp;&nbsp;&nbsp; xmlns:wot="<a href="http://xmlns.com/wot/0.1/">http://xmlns.com/wot/0.1/</a>"<br>
&nbsp;&nbsp;&nbsp; xmlns:rdf="<a
	href="http://www.w3.org/1999/02/22-rdf-syntax-ns">http://www.w3.org/1999/02/22-rdf-syntax-ns</a>#"&gt;<br>
&nbsp; &lt;j.0:PersonalProfileDocument&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;j.0:primaryTopic&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;j.0:Person rdf:about="<a
	href="http://g1o.net/foaf.rdf#me">http://g1o.net/foaf.rdf#me</a>"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
j.0:givenname="Giovanni"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
j.0:family_name="Tummarello"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; j.0:nick="Jccq"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; j.0:title="Ph.D"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
j.0:icqChatID="68832951"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;j.0:knows&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...<br>
&lt;/rdf:RDF&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; ]]&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp; &lt;/source&gt;<br>
&nbsp;&nbsp; &lt;/simplemix&gt;</p>
<h2><font size="3"><a name="CONSTRUCT"></a>CONSTRUCT</font></h2>
<p><font color="red">This section of the documentation requires updating</font></p>
<p><br>
The Construct query is used to create expected triples by using
SPARQL-CONSTRUCT query on specified RDF sources. The output of this
operator is the result of a SPARQL-CONSTRUCT query executed on the one
or more sources. Each RDF Source can be either a constant (directly
input as RDF/XML) or another Pipe operator which can output RDF/XML
data. There is an optional attribute "uri". If it is speficfied, then
the source data will be placed into an named graph with attribute's
value as graph name.</p>
<p>Note: Constant RDF/XML text has to be wrapped into a CDATA
section.</p>
<p><strong><u>Syntax template:</u></strong></p>
<p>&lt;construct&gt;</p>
<p>&lt;source uri=uri&gt;Enter one source syntax
here!&lt;/source&gt;</p>
<p>...<br>
&lt;query&gt;<br>
&nbsp;&nbsp;&nbsp; Enter SPARQL construct query here!<br>
&lt;/query&gt;<br>
&lt;/construct&gt;</p>
<h2><font size="3"><a name="SELECT"></a>SELECT</font></h2>
<p><font color="red">This section of the documentation requires updating</font></p>
<p><br>
Similar to CONSTRUCT operator, the SELECT operator is used performs a
SELECT query and outputs the result in the SPARQL-Result XML format.
This&nbsp; operator is&nbsp; only used as an input for FOR
operator.&nbsp; Each RDF Source can be either a constant (directly input
as RDF/XML) or another Pipe operator which can output RDF/XML data.
There is an optional attribute "uri". If it is speficfied, then the
sourcedata will be placed into an named graph with attribute's value as
graph name.</p>
<p>Note: Constant RDF/XML text has to be wrapped into a CDATA
section.</p>
<p><u><strong>Syntax template</strong></u>:</p>
<p>&lt;select&gt;<br>
&lt;source uri="uri"&gt;Enter one source syntax here!&lt;/source&gt;<br>
&lt;source &gt;Enter one source syntax here!&lt;/source&gt;<br>
&lt;query&gt;<br>
&nbsp;&nbsp;&nbsp; Enter SPARQL SELECT query here!<br>
&lt;/query&gt;<br>
&lt;/select&gt;</p>
<p><strong><u>Example:</u></strong></p>
<p>&lt;select&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;
&lt;source&gt;&lt;fetch&gt;&lt;location&gt;http://www.w3.org/People/Berners-Lee/card?&lt;/location&gt;&lt;/fetch&gt;&lt;/source&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;
&lt;source&gt;&lt;fetch&gt;&lt;location&gt;http://g1o.net/foaf.rdf?&lt;/location&gt;&lt;/fetch&gt;&lt;/source&gt;<br>
&lt;query&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;![CDATA[<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; select ?uri where {?s
&lt;<a href="http://xmlns.com/foaf/0.1/knows">http://xmlns.com/foaf/0.1/knows</a>?&gt;
?uri} ORDER by desc(?uri) LIMIT 2 offset 10<br>
&nbsp;&nbsp;&nbsp;&nbsp; ]]&gt;<br>
&nbsp;&nbsp; &lt;/query&gt; <br>
&nbsp;&lt;/select&gt;</p>
<h2><font size="3"><a name="RDFS"></a>RDFS</font></h2>
<p><font color="red">This section of the documentation requires updating</font></p>

<p><br>
Similar to MIX operator,this RDFS operator will merge specified RDF
sources and then infer implicit triples from the merged triples.The
output of this operator is also RDFXML format.&nbsp; Each RDF Source can
be either a constant (directly input as RDF/XML) or another Pipe
operator which can output RDF/XML data. There is an optional attribute
"uri". If it is speficfied, then the sourcedata will be placed into an
named graph with attribute's value as graph name.</p>
<p>Note: Constant RDF/XML text has to be wrapped into a CDATA
section.</p>
<p><u><strong>Syntax template:</strong></u></p>
<p>&lt;rdfs&gt;<br>
&lt;source&gt;Enter one or more sources&lt;/source&gt;</p>
<p>&lt;/rdfs&gt;<br>
&nbsp;</p>
<p><u>Example</u> (See also <a
	href="http://pipes.deri.org:8080/pipes/Pipes/?id=RDFSReasoner">http://pipes.deri.org:8080/pipes/Pipes/?id=RDFSReasoner</a>
? )</p>
<p>&lt;construct&gt;<br>
&lt;source&gt;<br>
&lt;rdfs&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;
&lt;source&gt;&lt;fetch&gt;&lt;location&gt;http://www.w3.org/People/Berners-Lee/card?&lt;/location&gt;&lt;/fetch&gt;&lt;/source&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;
&lt;source&gt;&lt;fetch&gt;&lt;location&gt;http://xmlns.com/foaf/spec/index.rdf?&lt;/location&gt;&lt;/fetch&gt;&lt;/source&gt;<br>
&nbsp;&lt;/rdfs&gt;<br>
&lt;/source&gt;<br>
&lt;query&gt;<br>
&lt;![CDATA[<br>
PREFIX foaf:&nbsp;&nbsp; &lt;<a href="http://xmlns.com/foaf/0.1/">http://xmlns.com/foaf/0.1/</a>?&gt;<br>
PREFIX rdf:&nbsp;&nbsp; &lt;<a
	href="http://www.w3.org/1999/02/22-rdf-syntax-ns">http://www.w3.org/1999/02/22-rdf-syntax-ns</a>#?&gt;<br>
CONSTRUCT</p>
<p>{ ?x foaf:name ?name }<br>
WHERE</p>
<p>{ ?x foaf:name ?name . ?x rdf:type foaf:Agent}<br>
]]&gt;<br>
&lt;/query&gt;<br>
&lt;/construct&gt;</p>
<h2><font size="3"><a name="FOR"></a>FOR</font></h2>
<p><font color="red">This section of the documentation requires updating</font></p>

<p>The FOR operator will&nbsp; invoke a parametrized pipe multiple
times and merge the resulting outputs of each invocation. The
&lt;sourcelist&gt; specifies an operator that ouputs a SPARQL result
set. For each result in the set, the variable&nbsp; values will be
subtituted into the parametrized pipe specified in &lt;forloop&gt; and
the pipe will be invoked.</p>
<p><u><strong>Syntax template:</strong></u></p>
<p>&lt;for&gt;<br>
&nbsp;&nbsp; &lt;sourcelist&gt;<br>
requires SPARQL XML FORMAT<br>
&nbsp;&lt;/sourcelist&gt;<br>
&lt;forloop&gt;<br>
&nbsp;&nbsp;&nbsp;
&lt;simplemix&gt;&lt;fetch&gt;&lt;location&gt;$uri$&lt;/location&gt;&lt;/fetch&gt;&lt;simplemix&gt;<br>
&lt;/forloop&gt;<br>
&lt;/for&gt;</p>
<p>Example (See also <a
	href="http://pipes.deri.org:8080/pipes/Pipes/?id=forloop">http://pipes.deri.org:8080/pipes/Pipes/?id=forloop</a>&nbsp;
): This pipe fech from the URIs of all five people known by the author
of a FOAF file.</p>
<p>&lt;for&gt;<br>
&nbsp;&nbsp; &lt;sourcelist&gt;<br>
&nbsp;&nbsp; &lt;select&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;
&lt;source&gt;&lt;fetch&gt;&lt;location&gt;http://www.w3.org/People/Berners-Lee/card?&lt;/location&gt;&lt;/fetch&gt;&lt;/source&gt;&nbsp;&nbsp;&nbsp;&nbsp;
<br>
&lt;query&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;![CDATA[<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; select ?uri where {?s
&lt;<a href="http://xmlns.com/foaf/0.1/knows">http://xmlns.com/foaf/0.1/knows</a>?&gt;
?uri} ORDER by desc(?uri) LIMIT 5<br>
&nbsp;&nbsp;&nbsp;&nbsp; ]]&gt;<br>
&nbsp;&nbsp; &lt;/query&gt; <br>
&nbsp;&lt;/select&gt;<br>
&nbsp;&nbsp; &lt;/sourcelist&gt;&nbsp; <br>
&lt;forloop&gt;<br>
&lt;simplemix&gt;&lt;source&gt;&lt;fetch&gt;&lt;location&gt;$uri$&lt;/location&gt;&lt;/fetch&gt;&lt;/source&gt;&lt;/simplemix&gt;<br>
&lt;/forloop&gt;<br>
&lt;/for&gt;</p>
<h2><font size="3"><a name="PatchingOperators"></a>Patching Operators</font></h2>
<p><font color="red">This section of the documentation requires updating</font></p>

<p><br>
The purpose of these operators is to provide means for producing and
automatically applying patches to RDF data sources.<br>
Let us explain their usage with a use case (see also <a
	href="http://pipes.deri.org:8080/pipes/Pipes/?id=patch">http://pipes.deri.org:8080/pipes/Pipes/?id=patch</a>
?).</p>
<p>Suppose I want to build a pipe that outputs the merge of my own
and Bob's FOAF files, but I also want to automatically remove from the
output some statements that are included in Bob's file, which I think
are wrong (e.g. Bob is declaring to be able to program in Java, but I'm
sure he is cheating&nbsp; ). Of course Bob has the right to state such a
fact in his own RDF file, and obviously I don't have the rights (and the
technical means) to hack the file. So I need a mechanism to
automatically exclude the statement in question from the "view" I want
to produce and perhaps expose to the world, while being able to reflect
the future updates Bob will apply to his FAOF description. Let's see how
to do it with Semantic Web pipes.</p>
<p>I first have to publish on the web (say to <a
	href="http://mywebsite/patch.rdf">http://mywebsite/patch.rdf</a> ?) an
RDF file including, in this case, a single triple:</p>
<p>&nbsp;&nbsp;&nbsp; ex:Bob&nbsp;&nbsp; ex:skill&nbsp;&nbsp;
ex:JavaProgramming</p>
<p>Then I use the patch-generator block to produce the patch:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;patch-generator&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;source&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;fetch&gt;&lt;location&gt;http://mywebsite/patch.rdf?&lt;/location&gt;&lt;/fetch&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/source&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/patch-generator&gt;</p>
<p>The output of this simple operator will be an RDF which express
the "negation" of all the triples in the source. In this case something
that means: NOT(ex:Bob&nbsp; ex:skill&nbsp; ex:JavaProgramming).</p>
<p>The next step is to create a pipe that applies the patch to Bob's
FOAF file. To do this I'll use the patch-executor operator, with the
previous block nested:</p>
<p>&nbsp;&nbsp;&nbsp; &lt;patch-executor&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;source&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;fetch&gt;&lt;location&gt;http://bobswebsite.org/foaf.rdf?&lt;/location&gt;&lt;/fetch&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/source&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;source&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;fetch&gt;&lt;location&gt;http://mywebsite.org/foaf.rdf?&lt;/location&gt;&lt;/fetch&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/source&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;source&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;patch-generator&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;source&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;fetch&gt;&lt;location&gt;http://mywebsite/patch.rdf?&lt;/location&gt;&lt;/fetch&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;/source&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;/patch-generator&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/source&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;/patch-executor&gt;</p>
<p>This composite pipe will take as input the Bob's FOAF, my FOAF
file and my patch and will produce as output an RDF which contains all
the statements form the two FOAF minus the one I distrusted.</p>
<h2><font size="3"><a name="SMOOSHER"></a>SMOOSHER</font></h2>
<p><font color="red">This section of the documentation requires updating</font></p>
<p><br>
This operator produces a merge of all the sources smooshing URIs based
on the owl:sameAs statement included in the sources themselves.</p>
<p>For example (see also <a
	href="http://pipes.deri.org:8080/pipes/Pipes/?id=smoosher">http://pipes.deri.org:8080/pipes/Pipes/?id=smoosher</a>?),
let us consider two RDF files as input. The first one (published at <a
	href="http://bobwebsite.org/foaf.rdf">http://bobwebsite.org/foaf.rdf</a>
?) says:</p>
<p>&nbsp;&nbsp;&nbsp; <a href="http://bobwebsite.org/Bob/">http://bobwebsite.org/Bob/</a>
?&nbsp; ex:skill&nbsp;&nbsp; ex:JavaProgramming</p>
<p>and the second (published at <a
	href="http://charleswebsite.org/info.rdf">http://charleswebsite.org/info.rdf</a>
?) says:</p>
<p>&nbsp;&nbsp;&nbsp; <a href="http://charleswebsite.org/Bob/">http://charleswebsite.org/Bob/</a>?&nbsp;&nbsp;
foaf:knows&nbsp; <a href="http://charleswebsite.org/Charles/">http://charleswebsite.org/Charles/</a>?<br>
&nbsp;&nbsp;&nbsp; <a href="http://bobwebsite.org/Bob/">http://bobwebsite.org/Bob/</a>?&nbsp;&nbsp;
owl:sameAs&nbsp;&nbsp; <a href="http://charleswebsite.org/Charles/">http://charleswebsite.org/Charles/</a>
?</p>
<p>By creating a pipe like the following:</p>
<p>&nbsp;&nbsp;&nbsp; &lt;smoosher&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;source&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;fetch&gt;&lt;location&gt;http://bobwebsite.org/foaf.rdf?&lt;/location&gt;&lt;/fetch&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/source&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;source&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;fetch&gt;&lt;location&gt;http://charleswebsite.org/info.rdf?&lt;/location&gt;&lt;/fetch&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/source&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;/smoosher&gt;</p>
<p>I would obtain, as output, an RDF including the following
triples:</p>
<p>&nbsp;&nbsp;&nbsp; <a href="http://bobwebsite.org/Bob/">http://bobwebsite.org/Bob/</a>?&nbsp;&nbsp;
ex:skill&nbsp; ex:JavaProgramming<br>
&nbsp;&nbsp;&nbsp; <a href="http://bobwebsite.org/Bob/">http://bobwebsite.org/Bob/</a>?&nbsp;&nbsp;
foaf:knows&nbsp;&nbsp; <a href="http://charleswebsite.org/Charles/">http://charleswebsite.org/Charles/</a>
?</p>
<p>where only one URI is used to address Bob as an entity (the
shortest one).&nbsp;</p>
<h2><font size="3"><a name="PipeCall"></a>Pipe-Call Operator</font></h2>
<p>This operator invokes stored pipes that have been defined the
Pipe editor.</p>
<p><br>
<code>
      &lt;pipe-call pipeid="mystoredpipe">
        &lt;para name="company">http://d.opencalais.com/er/company/ralg-tr1r/09ccd7c3-a2fd-3f32-bac1-07a66ff1a9b6&lt;/para>
      &lt;/pipe-call>
</code>
<p>The identified pipe will be invoked with the parameters provided.</p>

<h2><font size="3"><a name="DTD"></a>DTD</font></h2>
<p><font color="red">This section of the documentation requires updating</font></p>
<p>&lt;?xml version="1.0"?&gt;<br>
&lt;!DOCTYPE pipe [<br>
&lt;!ELEMENT pipe (parameters,code)&gt;<br>
&lt;!ELEMENT parameters(id,label)&gt;<br>
&lt;!ELEMENT id (#PCDATA)&gt;<br>
&lt;!ELEMENT label (#PCDATA)&gt;<br>
&lt;!ELEMENT code (simplemix|rdfs|fetch|for|construct)&gt;<br>
&lt;!ELEMENT simplemix (source+)&gt;<br>
&lt;!ELEMENT rdfs (source+)&gt;<br>
&lt;!ELEMENT fetch (location|sparqlendpoint)&gt;<br>
&lt;!ELEMENT location (#PCDATA)&gt;<br>
&lt;!ELEMENT sparqlendpoint (defaultgraph,endpoint,query)&gt;<br>
&lt;!ELEMENT defaultgraph (#PCDATA)&gt;<br>
&lt;!ELEMENT endpoint (#PCDATA)&gt;<br>
&lt;!ATTLIST fetch accept (rdfxml|sparqlxml) "rdfxml"&gt;<br>
&lt;!ELEMENT construct (source+,query)&gt;<br>
&lt;!ELEMENT query (#PCDATA)&gt;<br>
&lt;!ELEMENT for (sourcelist,forloop)&gt;<br>
&lt;!ELEMENT sourcelist (#PCDATA|fetch|select)&gt;<br>
&lt;!ELEMENT select (source+,query)&gt;<br>
&lt;!ELEMENT forloop (simplemix|rdfs|fetch|for|construct)&gt;<br>
&lt;!ELEMENT source (#PCDATA|simplemix|rdfs|fetch|for|construct)&gt;<br>
&lt;!ATTLIST source uri CDATA #IMPLIED&gt;<br>
]&gt;</p>

<h1>7<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a name="Conclusion"></a>Conclusion</h1>

<p class=MsoNormal>The DERI Pipes application has matured and is ready for
deployment. The web application is simple to install and runs 'out of the box'.
A programming API allows developers to embed the DERI Pipes Engine directly
into custom applications.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The application can be easily extended by adding new
Operators. The Operators are made available in the Pipes GUI by extending the
PipeNode class and modifying the configuration slightly.</p>

<p class=MsoNormal>&nbsp;</p>

<h1>8<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a name="FAQ"></a>Frequently
Asked Questions</h1>

<p class=MsoBodyText>Q. Are DERI Pipes limited to RDF based operations?</p>

<p class=MsoBodyText>A. No, Operators can now be defined to operate upon and
return any content types. Plans for operators to perform operations on text and
images are planned and contributions are welcome.</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>Q. What are the licensing terms for DERI Pipes.</p>

<p class=MsoBodyText>A. This remains to be determined. A BSD Style license is
preferred, however the situation is complicated by some dependency on GPL
Licensed components. Corporate lawyers from around the world are studying the
situation carefully.</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>Q. I have made a very useful pipe, can you add it to the
core project?</p>

<p class=MsoBodyText>A. Submissions are most welcome and will be reviewed on a
case by case basis.</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>Q. I found a bug, what should I do?</p>

<p class=MsoBodyText>A. Please check Jira and the mailing lists to see if this
is an old issue. If not, please register a new issue in Jira at: <a
href="http://dev.deri.org/">http://dev.deri.org/</a></p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>Q. Is there a command line interface for running stored
pipes from the shell?</p>

<p class=MsoBodyText>A. This will be provided in an upcoming release.</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>Q. Is there a way to use a java object held in memory as a
Pipes source in such a way that the pipe operation can be used with the
in-memory object as input?</p>

<p class=MsoBodyText>A. This will be provided in the very near future.</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>Q. Can Pipes be configured using Spring Framework?<br>
A. This is not done currently but will be provided in a future release.</p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>Q. Can operators be implemented in languages other than
Java?</p>

<p class=MsoBodyText>A. To do this a java wrapper of the Operator class is
required. The wrapper can delegate to the underlying implementation in an
appropriate manner. Note also that a Scripting implementation is provided which
allows execution of scripts in Groovy, Python etc. This operator is not
available in the GUI for security reasons.</p>

<p class=MsoBodyText>Q. Is there more documentation available?</p>

<p class=MsoBodyText>A. Some further documentation can be found on the pipes
website: <a href="http://pipes.deri.org/">http://pipes.deri.org</a>. Also see <a href="operators.html">Operators documentation</a> (currently skeletal).</p>

<p class=MsoBodyText>&nbsp;</p>

<h1>9<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><a name="References"></a>References</h1>

<p class=MsoBodyText>&nbsp;</p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:2.75pt;border-collapse:collapse'>
 <tr style='height:13.8pt'>
  <td width=169 valign=top style='width:126.7pt;border-top:solid black 1.0pt;
  border-left:solid black 1.0pt;border-bottom:none black 1.0pt;border-right:
  none;padding:2.75pt 2.75pt 2.75pt 2.75pt;height:13.8pt'>
  <p class=TableContents>Tomcat</p>
  </td>
  <td width=474 valign=top style='width:355.15pt;border:solid black 1.0pt;
  border-bottom:none black 1.0pt;padding:2.75pt 2.75pt 2.75pt 2.75pt;
  height:13.8pt'>
  <p class=TableContents><a href="http://tomcat.apache.org/">http://tomcat.apache.org/</a></p>
  </td>
  <td style='height:13.8pt;border:none' width=0 height=18></td>
 </tr>
 <tr style='height:13.8pt'>
  <td width=169 valign=top style='width:126.7pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:none black 1.0pt;border-right:none;
  padding:2.75pt 2.75pt 2.75pt 2.75pt;height:13.8pt'>
  <p class=TableContents>Java 1.6</p>
  </td>
  <td width=474 valign=top style='width:355.15pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:none black 1.0pt;border-right:solid black 1.0pt;
  padding:2.75pt 2.75pt 2.75pt 2.75pt;height:13.8pt'>
  <p class=TableContents><a
  href="http://java.sun.com/javase/downloads/index.jsp">http://java.sun.com/javase/downloads/index.jsp</a></p>
  </td>
  <td style='height:13.8pt;border:none' width=0 height=18></td>
 </tr>
 <tr style='height:13.8pt'>
  <td width=169 valign=top style='width:126.7pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:none black 1.0pt;border-right:none;
  padding:2.75pt 2.75pt 2.75pt 2.75pt;height:13.8pt'>
  <p class=TableContents>ZK Diagram</p>
  </td>
  <td width=474 valign=top style='width:355.15pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:none black 1.0pt;border-right:solid black 1.0pt;
  padding:2.75pt 2.75pt 2.75pt 2.75pt;height:13.8pt'>
  <p class=TableContents><a
  href="http://www.integratedmodelling.org/software/zk/zkdiagram.html">http://www.integratedmodelling.org/software/zk/zkdiagram.html</a></p>
  </td>
  <td style='height:13.8pt;border:none' width=0 height=18></td>
 </tr>
 <tr style='height:13.8pt'>
  <td width=169 valign=top style='width:126.7pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:none black 1.0pt;border-right:none;
  padding:2.75pt 2.75pt 2.75pt 2.75pt;height:13.8pt'>
  <p class=TableContents>Slf4j</p>
  </td>
  <td width=474 valign=top style='width:355.15pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:none black 1.0pt;border-right:solid black 1.0pt;
  padding:2.75pt 2.75pt 2.75pt 2.75pt;height:13.8pt'>
  <p class=TableContents><a href="http://www.slf4j.org/">http://www.slf4j.org/</a></p>
  </td>
  <td style='height:13.8pt;border:none' width=0 height=18></td>
 </tr>
 <tr style='height:13.8pt'>
  <td width=169 valign=top style='width:126.7pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:none black 1.0pt;border-right:none;
  padding:2.75pt 2.75pt 2.75pt 2.75pt;height:13.8pt'>
  <p class=TableContents>Spring</p>
  </td>
  <td width=474 valign=top style='width:355.15pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:none black 1.0pt;border-right:solid black 1.0pt;
  padding:2.75pt 2.75pt 2.75pt 2.75pt;height:13.8pt'>
  <p class=TableContents><a href="http://www.springsource.org/">http://www.springsource.org/</a></p>
  </td>
  <td style='height:13.8pt;border:none' width=0 height=18></td>
 </tr>
 <tr style='height:13.8pt'>
  <td width=169 valign=top style='width:126.7pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:none black 1.0pt;border-right:none;
  padding:2.75pt 2.75pt 2.75pt 2.75pt;height:13.8pt'>
  <p class=TableContents>DERI Pipes Website</p>
  </td>
  <td width=474 valign=top style='width:355.15pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:none black 1.0pt;border-right:solid black 1.0pt;
  padding:2.75pt 2.75pt 2.75pt 2.75pt;height:13.8pt'>
  <p class=TableContents><a href="http://pipes.deri.org/">http://pipes.deri.org</a></p>
  </td>
  <td style='height:13.8pt;border:none' width=0 height=18></td>
 </tr>
 <tr style='height:13.8pt'>
  <td width=169 valign=top style='width:126.7pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:none black 1.0pt;border-right:none;
  padding:2.75pt 2.75pt 2.75pt 2.75pt;height:13.8pt'>
  <p class=TableContents>Pipes Sourceforge Page</p>
  </td>
  <td width=474 valign=top style='width:355.15pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:none black 1.0pt;border-right:solid black 1.0pt;
  padding:2.75pt 2.75pt 2.75pt 2.75pt;height:13.8pt'>
  <p class=TableContents><a
  href="http://sourceforge.net/projects/semanticwebpipe/">http://sourceforge.net/projects/semanticwebpipe/</a></p>
  </td>
  <td style='height:13.8pt;border:none' width=0 height=18></td>
 </tr>
 <tr style='height:13.8pt'>
  <td width=169 valign=top style='width:126.7pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:none black 1.0pt;border-right:none;
  padding:2.75pt 2.75pt 2.75pt 2.75pt;height:13.8pt'>
  <p class=TableContents>Pipes JIRA</p>
  </td>
  <td width=474 valign=top style='width:355.15pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:none black 1.0pt;border-right:solid black 1.0pt;
  padding:2.75pt 2.75pt 2.75pt 2.75pt;height:13.8pt'>
  <p class=TableContents><a href="https://dev.deri.ie/jira/browse/SWP">https://dev.deri.ie/jira/browse/SWP</a></p>
  </td>
  <td style='height:13.8pt;border:none' width=0 height=18></td>
 </tr>
 <tr style='height:13.8pt'>
  <td width=169 valign=top style='width:126.7pt;border-top:none;border-left:
  solid black 1.0pt;border-bottom:solid black 1.0pt;border-right:none;
  padding:2.75pt 2.75pt 2.75pt 2.75pt;height:13.8pt'>
  <p class=TableContents>&nbsp;</p>
  </td>
  <td width=474 valign=top style='width:355.15pt;border:solid black 1.0pt;
  border-top:none;padding:2.75pt 2.75pt 2.75pt 2.75pt;height:13.8pt'>
  <p class=TableContents>&nbsp;</p>
  </td>
  <td style='height:13.8pt;border:none' width=0 height=18></td>
 </tr>
</table>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText>Robert Fuller,</p>

<p class=MsoBodyText>robert.fuller@deri.org</p>

<p class=MsoBodyText>Feb 10<sup>th</sup> 2009</p>

</div>

</body>

</html>
